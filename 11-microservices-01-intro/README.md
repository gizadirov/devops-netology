# Домашнее задание к занятию «Введение в микросервисы»

## Задача

Руководство крупного интернет-магазина, у которого постоянно растёт пользовательская база и количество заказов, рассматривает возможность переделки своей внутренней   ИТ-системы на основе микросервисов. 

Вас пригласили в качестве консультанта для оценки целесообразности перехода на микросервисную архитектуру. 

Опишите, какие выгоды может получить компания от перехода на микросервисную архитектуру и какие проблемы нужно решить в первую очередь.

## Ответ

Во-первых, нужно понимать цели. Для этого организации нужно ответить на три вопроса:
1. Чего они надеются достичь?
2. Подумали ли они об использовании альтернатив микросервисов (модульный монолит, вертикальное и/или горизонтальное масштабирование, ...)
3. Как они узнают, что переход работает?

В чем микросервисы могут помочь:
1. Повысить автономию групп. Многие организации продемонстрировали выгоды от создания автономных групп. Поддержание малого размера организационных групп, разрешение им создавать тесные связи и эффективно работать вместе, не привлекая слишком много бюрократии, помогло многим организациям в росте и масштабировании эффективнее, чем у некоторых из их коллег.
2. Сократить время до рынка (TTM). Имея возможность вносить и развертывать изменения в отдельные микросервисы, а также развертывать эти изменения, не дожидаясь согласованных релизов, вы можете выпускать функциональность для ваших клиентов быстрее. Способность привлекать больше людей к решению проблемы также является фактором.
3. Проведение эффективного по стоимости масштабирования. Вам нужно выполнить масштабирование вверх только тех частей вашей обработки, которые в настоящее время ограничивают вашу способность справляться с нагрузкой. Из этого также следует, что потом вы можете выполнить масштабирование вниз тех микросервисов, которые находятся под меньшей нагрузкой, возможно, даже выключая их, когда они не требуются.
4. Повысить робастность. Ожидания ваших клиентов в отношении доступности интрнет-магазина, а также его важность в их жизни, возросли. Раскладывая ваше приложение на отдельные, независимо развертываемые процессы, вы открываете массу механизмов повышения робастности вашего интернет-магазина. Используя микросервисы, вы имплементируете более робастную архитектуру, поскольку функциональность раскладывается на части, т. е. влияние на одну область функциональности не обязательно разрушает всю систему в целом.
5. Промасштабировать число разработчиков. Имея четко определенные контуры и архитектуру, которая сосредоточена вокруг того, чтобы ваши микросервисы ограничивали свою сопряженность друг с другом, вы придумываете фрагменты кода, над которыми можно работать независимо. Следовательно, вы сможете промасштабировать число разработчиков, сократив конкуренцию за доставку.
6. Внедрить новую технологию. С архитектурой на основе микросервисов вы получаете возможность разнообразить платформу, ОС, БД для каждого сервиса. Изолировав смену технологии в контуре одного сервиса, вы поймете выгоды новой технологии в изоляции и ограничите ее влияние, если окажется, что она имеет проблемы. Гибкость в способности апробировать новые технологии безопасным способом дает вам конкурентное преимущество, как с точки зрения обеспечения более качественных результатов для клиентов, так и в плане поддержания удовлетворенности ваших разработчиков, когда они приступают к освоению новых навыков.

Какие проблемы нужно решить в первую очередь:
1. Переход должен быть постепенным, при этом желательно, чтобы изменения были обратимыми.
2. Необходимо декомпозировать существующий монолит с учетом сопряженности и связности. Например, это может быть корзина, история заказов, виджет популярных и рекомендуемых продуктов, карточка товара и прочее.
3. Необходимо разделить разработчиков по плану декомпозиции, то есть, какие разработчики за какой микросервис отвечают. Определиться, какой стек они будут использовать. 
4. Микросервисов много, поэтому нужна соответсвующая инфраструктура, средства управления и масштабирования (оркестрация, хореография), доставки и развертывания, мониторинга и отладки.
5. Необходимо решить вопрос с коммуникацией микросервисов, выбрать протоколы, а также, так как среда гетерогенная, встает проблема с обработками ошибок, транзакциями и согласованностью.







